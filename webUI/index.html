<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Page Title</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="/style.css">
<style>
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="/script.js"></script>
<body background="wallpaper_dark.png" onload="redirect()">
  <div>
    
  <ul class="navbar">
    
  
  <li><a href="#name" id="uname">Name</a></li>
  <li><a href="#addTask">Add Task</a></li>
    <h2 style="padding: 10px;text-align: center;position: initial;margin: 0px;">TaskBot</h2>
  </ul>
  </div>
  <div id="addTask" class="overlay">
	<div class="popup">
		<h2>Add a task</h2>
		<a class="close" href="#">&times;</a>
    <form action="javascript:void(0);">
     <input type="text" class="form-control add-task" placeholder="New Task...">
      <input type="text" class="form-control add-task1" placeholder="at time(HH:MM am/pm)">
      <button class="submit-btn">Add</button>
    </form>
</div>
</div>

<div id="user_data"></div>
<div id="completed_data"></div>
<div id="overdue_data"></div>

<script>
  //Code to display the json

console.log("ENTERED THE SCRIPT")
        //https://howtocreateapps.com/fetch-and-display-json-html-javascript/
        fetch('../user_data.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("user_data");
            console.log("User data: " + Object.entries(data))
            
            for (let [key, value] of Object.entries(data)) {
                console.log(key);
                console.log(Object.entries(value))
                var div = document.createElement("div");
                
                div.innerHTML = 'Key: ' + key + " Values: " + Object.entries(value)
                
                mainContainer.appendChild(div);
                
            }
        }

        fetch('../completed_data.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("completed_data");

            console.log("Completed data: " + Object.entries(data))
            
            for (let [key, value] of Object.entries(data)) {
                console.log(key);
                console.log(Object.entries(value))
                var div = document.createElement("div");
                div.innerHTML = 'Key: ' + key + " Values: " + Object.entries(value)
                mainContainer.appendChild(div);
                
            }
        }


        fetch('../overdue_data.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("overdue_data");

            console.log("Overdue data: " + Object.entries(data))
            
            for (let [key, value] of Object.entries(data)) {
                console.log(key);
                console.log(Object.entries(value))
                var div = document.createElement("div");
                div.innerHTML = 'Key: ' + key + " Values: " + Object.entries(value)
                mainContainer.appendChild(div);
                
            }
        }



</script>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="card card-white">
              <ul class="nav nav-pills todo-nav" style="float: right;position: fixed;">
                        <li role="presentation" class="nav-item all-task active"><a href="#" class="nav-link">All</a></li>
                        <li role="presentation" class="nav-item active-task"><a href="#" class="nav-link">Active</a></li>
                        <li role="presentation" class="nav-item completed-task" id="completed_tasks"><a href="#" class="nav-link">Completed</a></li>
                    </ul>
              <h2 id="section"> Active: </h2>
                <div class="card-body">
                    

                    <div class="todo-list">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
